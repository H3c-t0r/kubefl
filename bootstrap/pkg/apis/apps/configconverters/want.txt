{
  "kind": "KfDef",
  "apiVersion": "kfdef.apps.kubeflow.org/v1alpha1",
  "metadata": {
    "name": "myapp2",
    "namespace": "kubeflow",
    "creationTimestamp": null
  },
  "spec": {
    "platform": "gcp",
    "appdir": "/tmp/myapp2",
    "version": "master",
    "project": "foo-project",
    "email": "foo@gmail.com",
    "useBasicAuth": false,
    "skipInitProject": true,
    "useIstio": true,
    "enableApplications": true,
    "packageManager": "kustomize",
    "repos": [
      {
        "name": "manifests",
        "uri": "https://github.com/kubeflow/manifests/archive/master.tar.gz"
      }
    ],
    "plugins": [
      {
        "name": "gcp",
        "spec": {
          "createPipelinePersistentStorage": true,
          "deploymentManagerConfig": {
            "repoRef": {
              "name": "manifests",
              "path": "gcp/deployment_manager_configs"
            }
          },
          "enableWorkloadIdentity": true,
          "useBasicAuth": false
        }
      }
    ],
    "applications": [
      {
        "name": "istio-crds",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "istio/istio-crds"
          },
          "parameters": [
            {
              "name": "namespace",
              "value": "istio-system"
            }
          ]
        }
      },
      {
        "name": "istio-install",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "istio/istio-install"
          },
          "parameters": [
            {
              "name": "namespace",
              "value": "istio-system"
            }
          ]
        }
      },
      {
        "name": "istio",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "istio/istio"
          },
          "parameters": [
            {
              "name": "clusterRbacConfig",
              "value": "ON"
            }
          ]
        }
      },
      {
        "name": "application-crds",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "application/application-crds"
          }
        }
      },
      {
        "name": "application",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "application/application"
          },
          "overlays": [
            "application"
          ]
        }
      },
      {
        "name": "metacontroller",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "metacontroller"
          }
        }
      },
      {
        "name": "argo",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "argo"
          },
          "overlays": [
            "istio"
          ]
        }
      },
      {
        "name": "centraldashboard",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "common/centraldashboard"
          },
          "overlays": [
            "istio"
          ],
          "parameters": [
            {
              "name": "userid-header",
              "value": "X-Goog-Authenticated-User-Email"
            },
            {
              "name": "userid-prefix",
              "value": "accounts.google.com:"
            }
          ]
        }
      },
      {
        "name": "webhook",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "admission-webhook/webhook"
          }
        }
      },
      {
        "name": "bootstrap",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "admission-webhook/bootstrap"
          },
          "parameters": [
            {
              "name": "webhookNamePrefix",
              "value": "admission-webhook-"
            }
          ]
        }
      },
      {
        "name": "jupyter-web-app",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "jupyter/jupyter-web-app"
          },
          "overlays": [
            "istio",
            "application"
          ],
          "parameters": [
            {
              "name": "userid-header",
              "value": "X-Goog-Authenticated-User-Email"
            },
            {
              "name": "userid-prefix",
              "value": "accounts.google.com:"
            }
          ]
        }
      },
      {
        "name": "katib-db",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/katib-db"
          }
        }
      },
      {
        "name": "katib-manager",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/katib-manager"
          }
        }
      },
      {
        "name": "katib-controller",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/katib-controller"
          }
        }
      },
      {
        "name": "katib-ui",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/katib-ui"
          },
          "overlays": [
            "istio"
          ]
        }
      },
      {
        "name": "metadata",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "metadata"
          },
          "overlays": [
            "istio"
          ]
        }
      },
      {
        "name": "metrics-collector",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/metrics-collector"
          }
        }
      },
      {
        "name": "suggestion",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "katib-v1alpha2/suggestion"
          }
        }
      },
      {
        "name": "notebook-controller",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "jupyter/notebook-controller"
          },
          "overlays": [
            "istio",
            "application"
          ],
          "parameters": [
            {
              "name": "injectGcpCredentials",
              "value": "true"
            }
          ]
        }
      },
      {
        "name": "pytorch-job-crds",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pytorch-job/pytorch-job-crds"
          }
        }
      },
      {
        "name": "pytorch-operator",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pytorch-job/pytorch-operator"
          },
          "overlays": [
            "application"
          ]
        }
      },
      {
        "name": "knative-crds",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "knative/knative-serving-crds"
          },
          "parameters": [
            {
              "name": "namespace",
              "value": "knative-serving"
            }
          ]
        }
      },
      {
        "name": "knative-install",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "knative/knative-serving-install"
          },
          "parameters": [
            {
              "name": "namespace",
              "value": "knative-serving"
            }
          ]
        }
      },
      {
        "name": "kfserving-crds",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "kfserving/kfserving-crds"
          }
        }
      },
      {
        "name": "kfserving-install",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "kfserving/kfserving-install"
          }
        }
      },
      {
        "name": "spartakus",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "common/spartakus"
          },
          "parameters": [
            {
              "name": "usageId",
              "value": "123456"
            },
            {
              "name": "reportUsage",
              "value": "true"
            }
          ]
        }
      },
      {
        "name": "tensorboard",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "tensorboard"
          },
          "overlays": [
            "istio"
          ]
        }
      },
      {
        "name": "tf-job-operator",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "tf-training/tf-job-operator"
          },
          "overlays": [
            "istio",
            "application"
          ]
        }
      },
      {
        "name": "api-service",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/api-service"
          }
        }
      },
      {
        "name": "minio",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/minio"
          },
          "overlays": [
            "minioPd"
          ],
          "parameters": [
            {
              "name": "minioPd",
              "value": "test1-storage-artifact-store"
            },
            {
              "name": "minioPvName",
              "value": "minio-pv"
            },
            {
              "name": "minioPvcName",
              "value": "minio-pv-claim"
            }
          ]
        }
      },
      {
        "name": "mysql",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/mysql"
          },
          "overlays": [
            "mysqlPd"
          ],
          "parameters": [
            {
              "name": "mysqlPd",
              "value": "test1-storage-metadata-store"
            },
            {
              "name": "mysqlPvName",
              "value": "mysql-pv"
            },
            {
              "name": "mysqlPvcName",
              "value": "mysql-pv-claim"
            }
          ]
        }
      },
      {
        "name": "persistent-agent",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/persistent-agent"
          }
        }
      },
      {
        "name": "pipelines-runner",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/pipelines-runner"
          }
        }
      },
      {
        "name": "pipelines-ui",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/pipelines-ui"
          },
          "overlays": [
            "istio"
          ]
        }
      },
      {
        "name": "pipelines-viewer",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/pipelines-viewer"
          }
        }
      },
      {
        "name": "scheduledworkflow",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "pipeline/scheduledworkflow"
          }
        }
      },
      {
        "name": "cloud-endpoints",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "gcp/cloud-endpoints"
          }
        }
      },
      {
        "name": "profiles",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "profiles"
          },
          "overlays": [
            "istio"
          ],
          "parameters": [
            {
              "name": "admin",
              "value": "SET_EMAIL"
            },
            {
              "name": "userid-header",
              "value": "X-Goog-Authenticated-User-Email"
            },
            {
              "name": "userid-prefix",
              "value": "accounts.google.com:"
            }
          ]
        }
      },
      {
        "name": "gpu-driver",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "gcp/gpu-driver"
          }
        }
      },
      {
        "name": "iap-ingress",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "gcp/iap-ingress"
          },
          "overlays": [
            "managed-cert"
          ],
          "parameters": [
            {
              "name": "namespace",
              "value": "istio-system"
            },
            {
              "name": "ipName",
              "value": "myapp2-ip"
            },
            {
              "name": "hostname",
              "value": "myapp2.endpoints.foo-project.cloud.goog"
            }
          ]
        }
      },
      {
        "name": "seldon-core-operator",
        "kustomizeConfig": {
          "repoRef": {
            "name": "manifests",
            "path": "seldon/seldon-core-operator"
          },
          "overlays": [
            "application"
          ]
        }
      }
    ]
  },
  "status": {}
}