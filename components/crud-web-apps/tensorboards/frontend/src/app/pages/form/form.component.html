<div class="form--container" mat-dialog-content>
  <form novalidate (ngSubmit)="onSubmit()" [formGroup]="formCtrl">
    <lib-form-section
      title="New Tensorboard"
      text="Create a new Tensorboard"
      i18n-title
      i18n-text
    >
    </lib-form-section>

    <!--Name / Namespace-->
    <lib-form-name-namespace-inputs
      [nameControl]="formCtrl.get('name')"
      [namespaceControl]="formCtrl.get('namespace')"
      resourceName="Tensorboard"
      [existingNames]="tensorboardNames"
    >
    </lib-form-name-namespace-inputs>

    <div class="row">
    <lib-positive-number-input
        class="column"
        min="0.1"
        step="0.1"
        [sizeControl]="formCtrl.get('cpu')"
        label="Requested CPUs"
        i18n-label
    ></lib-positive-number-input>

    <lib-positive-number-input
        class="column"
        min="0.1"
        step="0.1"
        [sizeControl]="formCtrl.get('memory')"
        label="Requested memory in Gi"
        i18n-label
    ></lib-positive-number-input>
    </div>

    <mat-radio-group formControlName="storage">
      <mat-radio-button value="object_store" i18n>
        Object Store
      </mat-radio-button>
      <mat-radio-button value="pvc" class="radio-pvc" i18n>
        PVC
      </mat-radio-button>
    </mat-radio-group>

    <mat-form-field
      appearance="outline"
      class="wide"
      *ngIf="formCtrl.get('storage').value === 'pvc'"
    >
      <mat-label i18n>PVC Name</mat-label>
      <mat-select formControlName="pvcName">
        <mat-option *ngFor="let pvc of pvcNames" [value]="pvc">
          {{ pvc }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field
      appearance="outline"
      class="wide"
      *ngIf="formCtrl.get('storage').value === 'pvc'"
    >
      <mat-label i18n>Mount Path</mat-label>
      <input
        formControlName="pvcMountPath"
        matInput
        placeholder="ex: mount/to/path"
        i18n-placeholder
        type="url"
      />
    </mat-form-field>

    <mat-form-field
      appearance="outline"
      class="wide"
      *ngIf="formCtrl.get('storage').value === 'object_store'"
    >
      <mat-label i18n>Object Store Link</mat-label>
      <input matInput formControlName="objectStoreLink" type="url" />
    </mat-form-field>

    <button
      mat-raised-button
      color="primary"
      class="form--button-margin"
      type="submit"
      [disabled]="!formCtrl.valid || blockSubmit"
      i18n
    >
      CREATE
    </button>

    <button mat-raised-button type="button" (click)="onCancel()" i18n>
      CANCEL
    </button>
  </form>
</div>
