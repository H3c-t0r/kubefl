{"ast":null,"code":"var _jsxFileName = \"/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/invoices/invoices-table.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Proptypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport numeral from 'numeral';\nimport { Box, Checkbox, Divider, Link, Skeleton, Table, TableBody, TableCell, TableHead, TableRow, TableSortLabel } from '@material-ui/core';\nimport { Pagination } from '../pagination';\nimport { ResourceError } from '../resource-error';\nimport { ResourceUnavailable } from '../resource-unavailable';\nimport { Scrollbar } from '../scrollbar';\nimport { Status } from '../status';\nimport { InvoiceMenu } from './invoice-menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  id: 'id',\n  disablePadding: true,\n  label: 'Order id'\n}, {\n  id: 'issueDate',\n  label: 'Invoice date'\n}, {\n  id: 'dueDate',\n  label: 'Due date'\n}, {\n  id: 'totalAmount',\n  label: 'Total'\n}, {\n  id: 'paymentMethod',\n  label: 'Payment method'\n}, {\n  id: 'status',\n  label: 'Status'\n}];\nconst statusVariants = [{\n  color: 'info.main',\n  label: 'Ongoing',\n  value: 'ongoing'\n}, {\n  color: 'warning.main',\n  label: 'Draft',\n  value: 'draft'\n}, {\n  color: 'error.main',\n  label: 'Overdue',\n  value: 'overdue'\n}, {\n  color: 'success.main',\n  label: 'Paid',\n  value: 'paid'\n}];\nexport const InvoicesTable = props => {\n  _s();\n\n  const {\n    error,\n    invoices: invoicesProp,\n    invoicesCount,\n    isLoading,\n    onPageChange,\n    onSelect,\n    onSelectAll,\n    onSortChange,\n    page,\n    selectedInvoices,\n    sort,\n    sortBy\n  } = props;\n  const [invoices, setInvoices] = useState(invoicesProp);\n  useEffect(() => {\n    setInvoices(invoicesProp);\n  }, [invoicesProp]);\n  const displayLoading = isLoading;\n  const displayError = Boolean(!isLoading && error);\n  const displayUnavailable = Boolean(!isLoading && !error && !(invoices === null || invoices === void 0 ? void 0 : invoices.length));\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flex: 1,\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Scrollbar, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"checkbox\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: invoices.length > 0 && selectedInvoices.length === invoices.length,\n                disabled: isLoading,\n                indeterminate: selectedInvoices.length > 0 && selectedInvoices.length < invoices.length,\n                onChange: onSelectAll\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortBy === column.id,\n                direction: sortBy === column.id ? sort : 'asc',\n                disabled: isLoading,\n                onClick: event => onSortChange(event, column.id),\n                children: column.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)\n            }, column.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: invoices.map(invoice => {\n            const statusVariant = statusVariants.find(variant => variant.value === invoice.status);\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              selected: !!selectedInvoices.find(selectedCustomer => selectedCustomer === invoice.id),\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                padding: \"checkbox\",\n                children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: !!selectedInvoices.find(selectedCustomer => selectedCustomer === invoice.id),\n                  onChange: event => onSelect(event, invoice.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  color: \"inherit\",\n                  component: RouterLink,\n                  to: \"/dashboard/invoices/1\",\n                  underline: \"none\",\n                  variant: \"subtitle2\",\n                  children: [\"#\", invoice.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: format(invoice.issueDate, 'dd MMM yyyy')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: format(invoice.dueDate, 'dd MMM yyyy')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: numeral(invoice.totalAmount).format(`${invoice.currencySymbol}0,0.00`)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: invoice.paymentMethod\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Status, {\n                  color: statusVariant.color,\n                  label: statusVariant.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(InvoiceMenu, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)]\n            }, invoice.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), displayLoading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), displayError && /*#__PURE__*/_jsxDEV(ResourceError, {\n      error: error,\n      sx: {\n        flexGrow: 1,\n        m: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), displayUnavailable && /*#__PURE__*/_jsxDEV(ResourceUnavailable, {\n      sx: {\n        flexGrow: 1,\n        m: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      sx: {\n        mt: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      disabled: isLoading,\n      onPageChange: onPageChange,\n      page: page,\n      rowsCount: invoicesCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_s(InvoicesTable, \"l7A4RTsZbnWcR7MSbRdBznuWO3U=\");\n\n_c = InvoicesTable;\nInvoicesTable.defaultProps = {\n  invoices: [],\n  invoicesCount: 0,\n  page: 1,\n  selectedInvoices: [],\n  sort: 'desc',\n  sortBy: 'issueDate'\n};\nInvoicesTable.propTypes = {\n  invoices: Proptypes.array,\n  invoicesCount: Proptypes.number,\n  error: Proptypes.string,\n  isLoading: Proptypes.bool,\n  onPageChange: Proptypes.func,\n  onSelect: Proptypes.func,\n  onSelectAll: Proptypes.func,\n  onSortChange: Proptypes.func,\n  page: Proptypes.number,\n  selectedInvoices: Proptypes.array,\n  sort: Proptypes.oneOf(['asc', 'desc']),\n  sortBy: Proptypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"InvoicesTable\");","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/invoices/invoices-table.js"],"names":["useEffect","useState","Proptypes","Link","RouterLink","format","numeral","Box","Checkbox","Divider","Skeleton","Table","TableBody","TableCell","TableHead","TableRow","TableSortLabel","Pagination","ResourceError","ResourceUnavailable","Scrollbar","Status","InvoiceMenu","columns","id","disablePadding","label","statusVariants","color","value","InvoicesTable","props","error","invoices","invoicesProp","invoicesCount","isLoading","onPageChange","onSelect","onSelectAll","onSortChange","page","selectedInvoices","sort","sortBy","setInvoices","displayLoading","displayError","Boolean","displayUnavailable","length","display","flex","flexDirection","minWidth","map","column","event","invoice","statusVariant","find","variant","status","selectedCustomer","issueDate","dueDate","totalAmount","currencySymbol","paymentMethod","p","flexGrow","m","mt","defaultProps","propTypes","array","number","string","bool","func","oneOf"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAI,IAAIC,UAAjB,QAAmC,kBAAnC;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,SACEC,GADF,EAEEC,QAFF,EAGEC,OAHF,EAIEN,IAJF,EAKEO,QALF,EAMEC,KANF,EAOEC,SAPF,EAQEC,SARF,EASEC,SATF,EAUEC,QAVF,EAWEC,cAXF,QAYO,mBAZP;AAaA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,mBAAT,QAAoC,yBAApC;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,MAAMC,OAAO,GAAG,CACd;AACEC,EAAAA,EAAE,EAAE,IADN;AAEEC,EAAAA,cAAc,EAAE,IAFlB;AAGEC,EAAAA,KAAK,EAAE;AAHT,CADc,EAMd;AACEF,EAAAA,EAAE,EAAE,WADN;AAEEE,EAAAA,KAAK,EAAE;AAFT,CANc,EAUd;AACEF,EAAAA,EAAE,EAAE,SADN;AAEEE,EAAAA,KAAK,EAAE;AAFT,CAVc,EAcd;AACEF,EAAAA,EAAE,EAAE,aADN;AAEEE,EAAAA,KAAK,EAAE;AAFT,CAdc,EAkBd;AACEF,EAAAA,EAAE,EAAE,eADN;AAEEE,EAAAA,KAAK,EAAE;AAFT,CAlBc,EAsBd;AACEF,EAAAA,EAAE,EAAE,QADN;AAEEE,EAAAA,KAAK,EAAE;AAFT,CAtBc,CAAhB;AA4BA,MAAMC,cAAc,GAAG,CACrB;AACEC,EAAAA,KAAK,EAAE,WADT;AAEEF,EAAAA,KAAK,EAAE,SAFT;AAGEG,EAAAA,KAAK,EAAE;AAHT,CADqB,EAMrB;AACED,EAAAA,KAAK,EAAE,cADT;AAEEF,EAAAA,KAAK,EAAE,OAFT;AAGEG,EAAAA,KAAK,EAAE;AAHT,CANqB,EAWrB;AACED,EAAAA,KAAK,EAAE,YADT;AAEEF,EAAAA,KAAK,EAAE,SAFT;AAGEG,EAAAA,KAAK,EAAE;AAHT,CAXqB,EAgBrB;AACED,EAAAA,KAAK,EAAE,cADT;AAEEF,EAAAA,KAAK,EAAE,MAFT;AAGEG,EAAAA,KAAK,EAAE;AAHT,CAhBqB,CAAvB;AAuBA,OAAO,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAAA;;AACtC,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,QAAQ,EAAEC,YAFN;AAGJC,IAAAA,aAHI;AAIJC,IAAAA,SAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,QANI;AAOJC,IAAAA,WAPI;AAQJC,IAAAA,YARI;AASJC,IAAAA,IATI;AAUJC,IAAAA,gBAVI;AAWJC,IAAAA,IAXI;AAYJC,IAAAA;AAZI,MAaFb,KAbJ;AAcA,QAAM,CAACE,QAAD,EAAWY,WAAX,IAA0B5C,QAAQ,CAACiC,YAAD,CAAxC;AAEAlC,EAAAA,SAAS,CAAC,MAAM;AACd6C,IAAAA,WAAW,CAACX,YAAD,CAAX;AACD,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAIA,QAAMY,cAAc,GAAGV,SAAvB;AACA,QAAMW,YAAY,GAAGC,OAAO,CAAC,CAACZ,SAAD,IAAcJ,KAAf,CAA5B;AACA,QAAMiB,kBAAkB,GAAGD,OAAO,CAAC,CAACZ,SAAD,IAAc,CAACJ,KAAf,IAAwB,EAACC,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEiB,MAAX,CAAzB,CAAlC;AAEA,sBACE,QAAC,GAAD;AACE,IAAA,EAAE,EAAE;AACFC,MAAAA,OAAO,EAAE,MADP;AAEFC,MAAAA,IAAI,EAAE,CAFJ;AAGFC,MAAAA,aAAa,EAAE;AAHb,KADN;AAAA,4BAOE,QAAC,SAAD;AAAA,6BACE,QAAC,KAAD;AAAO,QAAA,EAAE,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAX;AAAA,gCACE,QAAC,SAAD;AAAA,iCACE,QAAC,QAAD;AAAA,oCACE,QAAC,SAAD;AAAW,cAAA,OAAO,EAAC,UAAnB;AAAA,qCACE,QAAC,QAAD;AACE,gBAAA,OAAO,EAAErB,QAAQ,CAACiB,MAAT,GAAkB,CAAlB,IAAuBR,gBAAgB,CAACQ,MAAjB,KAA4BjB,QAAQ,CAACiB,MADvE;AAEE,gBAAA,QAAQ,EAAEd,SAFZ;AAGE,gBAAA,aAAa,EAAEM,gBAAgB,CAACQ,MAAjB,GAA0B,CAA1B,IACZR,gBAAgB,CAACQ,MAAjB,GAA0BjB,QAAQ,CAACiB,MAJxC;AAKE,gBAAA,QAAQ,EAAEX;AALZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAUGhB,OAAO,CAACgC,GAAR,CAAaC,MAAD,iBACX,QAAC,SAAD;AAAA,qCACE,QAAC,cAAD;AACE,gBAAA,MAAM,EAAEZ,MAAM,KAAKY,MAAM,CAAChC,EAD5B;AAEE,gBAAA,SAAS,EAAEoB,MAAM,KAAKY,MAAM,CAAChC,EAAlB,GAAuBmB,IAAvB,GAA8B,KAF3C;AAGE,gBAAA,QAAQ,EAAEP,SAHZ;AAIE,gBAAA,OAAO,EAAGqB,KAAD,IAAWjB,YAAY,CAACiB,KAAD,EAAQD,MAAM,CAAChC,EAAf,CAJlC;AAAA,0BAMGgC,MAAM,CAAC9B;AANV;AAAA;AAAA;AAAA;AAAA;AADF,eAAgB8B,MAAM,CAAChC,EAAvB;AAAA;AAAA;AAAA;AAAA,oBADD,CAVH,eAsBE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,oBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eA2BE,QAAC,SAAD;AAAA,oBACGS,QAAQ,CAACsB,GAAT,CAAcG,OAAD,IAAa;AACzB,kBAAMC,aAAa,GAAGhC,cAAc,CAACiC,IAAf,CAAqBC,OAAD,IAAaA,OAAO,CAAChC,KAAR,KACjD6B,OAAO,CAACI,MADQ,CAAtB;AAGA,gCACE,QAAC,QAAD;AACE,cAAA,KAAK,MADP;AAGE,cAAA,QAAQ,EAAE,CAAC,CAACpB,gBAAgB,CAACkB,IAAjB,CAAuBG,gBAAD,IAAsBA,gBAAgB,KAClEL,OAAO,CAAClC,EADF,CAHd;AAAA,sCAME,QAAC,SAAD;AAAW,gBAAA,OAAO,EAAC,UAAnB;AAAA,uCACE,QAAC,QAAD;AACE,kBAAA,OAAO,EAAE,CAAC,CAACkB,gBAAgB,CAACkB,IAAjB,CAAuBG,gBAAD,IAAsBA,gBAAgB,KACjEL,OAAO,CAAClC,EADH,CADb;AAGE,kBAAA,QAAQ,EAAGiC,KAAD,IAAWnB,QAAQ,CAACmB,KAAD,EAAQC,OAAO,CAAClC,EAAhB;AAH/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBANF,eAaE,QAAC,SAAD;AAAA,uCACE,QAAC,IAAD;AACE,kBAAA,KAAK,EAAC,SADR;AAEE,kBAAA,SAAS,EAAEpB,UAFb;AAGE,kBAAA,EAAE,EAAC,uBAHL;AAIE,kBAAA,SAAS,EAAC,MAJZ;AAKE,kBAAA,OAAO,EAAC,WALV;AAAA,kCAQGsD,OAAO,CAAClC,EARX;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAbF,eAyBE,QAAC,SAAD;AAAA,0BACGnB,MAAM,CAACqD,OAAO,CAACM,SAAT,EAAoB,aAApB;AADT;AAAA;AAAA;AAAA;AAAA,sBAzBF,eA4BE,QAAC,SAAD;AAAA,0BACG3D,MAAM,CAACqD,OAAO,CAACO,OAAT,EAAkB,aAAlB;AADT;AAAA;AAAA;AAAA;AAAA,sBA5BF,eA+BE,QAAC,SAAD;AAAA,0BACG3D,OAAO,CAACoD,OAAO,CAACQ,WAAT,CAAP,CAA6B7D,MAA7B,CAAqC,GAAEqD,OAAO,CAACS,cAAe,QAA9D;AADH;AAAA;AAAA;AAAA;AAAA,sBA/BF,eAkCE,QAAC,SAAD;AAAA,0BACGT,OAAO,CAACU;AADX;AAAA;AAAA;AAAA;AAAA,sBAlCF,eAqCE,QAAC,SAAD;AAAA,uCACE,QAAC,MAAD;AACE,kBAAA,KAAK,EAAET,aAAa,CAAC/B,KADvB;AAEE,kBAAA,KAAK,EAAE+B,aAAa,CAACjC;AAFvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBArCF,eA2CE,QAAC,SAAD;AAAA,uCACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBA3CF;AAAA,eAEOgC,OAAO,CAAClC,EAFf;AAAA;AAAA;AAAA;AAAA,oBADF;AAiDD,WArDA;AADH;AAAA;AAAA;AAAA;AAAA,gBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF,EA6FGsB,cAAc,iBACb,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEuB,QAAAA,CAAC,EAAE;AAAL,OAAT;AAAA,8BACE,QAAC,QAAD;AAAU,QAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,QAAD;AAAU,QAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,QAAD;AAAU,QAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YA9FJ,EAoGGtB,YAAY,iBACX,QAAC,aAAD;AACE,MAAA,KAAK,EAAEf,KADT;AAEE,MAAA,EAAE,EAAE;AACFsC,QAAAA,QAAQ,EAAE,CADR;AAEFC,QAAAA,CAAC,EAAE;AAFD;AAFN;AAAA;AAAA;AAAA;AAAA,YArGJ,EA6GGtB,kBAAkB,iBACjB,QAAC,mBAAD;AACE,MAAA,EAAE,EAAE;AACFqB,QAAAA,QAAQ,EAAE,CADR;AAEFC,QAAAA,CAAC,EAAE;AAFD;AADN;AAAA;AAAA;AAAA;AAAA,YA9GJ,eAqHE,QAAC,OAAD;AAAS,MAAA,EAAE,EAAE;AAAEC,QAAAA,EAAE,EAAE;AAAN;AAAb;AAAA;AAAA;AAAA;AAAA,YArHF,eAsHE,QAAC,UAAD;AACE,MAAA,QAAQ,EAAEpC,SADZ;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,IAAI,EAAEI,IAHR;AAIE,MAAA,SAAS,EAAEN;AAJb;AAAA;AAAA;AAAA;AAAA,YAtHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA+HD,CAxJM;;GAAML,a;;KAAAA,a;AA0JbA,aAAa,CAAC2C,YAAd,GAA6B;AAC3BxC,EAAAA,QAAQ,EAAE,EADiB;AAE3BE,EAAAA,aAAa,EAAE,CAFY;AAG3BM,EAAAA,IAAI,EAAE,CAHqB;AAI3BC,EAAAA,gBAAgB,EAAE,EAJS;AAK3BC,EAAAA,IAAI,EAAE,MALqB;AAM3BC,EAAAA,MAAM,EAAE;AANmB,CAA7B;AASAd,aAAa,CAAC4C,SAAd,GAA0B;AACxBzC,EAAAA,QAAQ,EAAE/B,SAAS,CAACyE,KADI;AAExBxC,EAAAA,aAAa,EAAEjC,SAAS,CAAC0E,MAFD;AAGxB5C,EAAAA,KAAK,EAAE9B,SAAS,CAAC2E,MAHO;AAIxBzC,EAAAA,SAAS,EAAElC,SAAS,CAAC4E,IAJG;AAKxBzC,EAAAA,YAAY,EAAEnC,SAAS,CAAC6E,IALA;AAMxBzC,EAAAA,QAAQ,EAAEpC,SAAS,CAAC6E,IANI;AAOxBxC,EAAAA,WAAW,EAAErC,SAAS,CAAC6E,IAPC;AAQxBvC,EAAAA,YAAY,EAAEtC,SAAS,CAAC6E,IARA;AASxBtC,EAAAA,IAAI,EAAEvC,SAAS,CAAC0E,MATQ;AAUxBlC,EAAAA,gBAAgB,EAAExC,SAAS,CAACyE,KAVJ;AAWxBhC,EAAAA,IAAI,EAAEzC,SAAS,CAAC8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB,CAXkB;AAYxBpC,EAAAA,MAAM,EAAE1C,SAAS,CAAC2E;AAZM,CAA1B","sourcesContent":["import { useEffect, useState } from 'react';\nimport Proptypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport numeral from 'numeral';\nimport {\n  Box,\n  Checkbox,\n  Divider,\n  Link,\n  Skeleton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel\n} from '@material-ui/core';\nimport { Pagination } from '../pagination';\nimport { ResourceError } from '../resource-error';\nimport { ResourceUnavailable } from '../resource-unavailable';\nimport { Scrollbar } from '../scrollbar';\nimport { Status } from '../status';\nimport { InvoiceMenu } from './invoice-menu';\n\nconst columns = [\n  {\n    id: 'id',\n    disablePadding: true,\n    label: 'Order id'\n  },\n  {\n    id: 'issueDate',\n    label: 'Invoice date'\n  },\n  {\n    id: 'dueDate',\n    label: 'Due date'\n  },\n  {\n    id: 'totalAmount',\n    label: 'Total'\n  },\n  {\n    id: 'paymentMethod',\n    label: 'Payment method'\n  },\n  {\n    id: 'status',\n    label: 'Status'\n  }\n];\n\nconst statusVariants = [\n  {\n    color: 'info.main',\n    label: 'Ongoing',\n    value: 'ongoing'\n  },\n  {\n    color: 'warning.main',\n    label: 'Draft',\n    value: 'draft'\n  },\n  {\n    color: 'error.main',\n    label: 'Overdue',\n    value: 'overdue'\n  },\n  {\n    color: 'success.main',\n    label: 'Paid',\n    value: 'paid'\n  }\n];\n\nexport const InvoicesTable = (props) => {\n  const {\n    error,\n    invoices: invoicesProp,\n    invoicesCount,\n    isLoading,\n    onPageChange,\n    onSelect,\n    onSelectAll,\n    onSortChange,\n    page,\n    selectedInvoices,\n    sort,\n    sortBy\n  } = props;\n  const [invoices, setInvoices] = useState(invoicesProp);\n\n  useEffect(() => {\n    setInvoices(invoicesProp);\n  }, [invoicesProp]);\n\n  const displayLoading = isLoading;\n  const displayError = Boolean(!isLoading && error);\n  const displayUnavailable = Boolean(!isLoading && !error && !invoices?.length);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column'\n      }}\n    >\n      <Scrollbar>\n        <Table sx={{ minWidth: 1000 }}>\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\">\n                <Checkbox\n                  checked={invoices.length > 0 && selectedInvoices.length === invoices.length}\n                  disabled={isLoading}\n                  indeterminate={selectedInvoices.length > 0\n                  && selectedInvoices.length < invoices.length}\n                  onChange={onSelectAll}\n                />\n              </TableCell>\n              {columns.map((column) => (\n                <TableCell key={column.id}>\n                  <TableSortLabel\n                    active={sortBy === column.id}\n                    direction={sortBy === column.id ? sort : 'asc'}\n                    disabled={isLoading}\n                    onClick={(event) => onSortChange(event, column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </TableCell>\n              ))}\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {invoices.map((invoice) => {\n              const statusVariant = statusVariants.find((variant) => variant.value\n                === invoice.status);\n\n              return (\n                <TableRow\n                  hover\n                  key={invoice.id}\n                  selected={!!selectedInvoices.find((selectedCustomer) => selectedCustomer\n                    === invoice.id)}\n                >\n                  <TableCell padding=\"checkbox\">\n                    <Checkbox\n                      checked={!!selectedInvoices.find((selectedCustomer) => selectedCustomer\n                        === invoice.id)}\n                      onChange={(event) => onSelect(event, invoice.id)}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <Link\n                      color=\"inherit\"\n                      component={RouterLink}\n                      to=\"/dashboard/invoices/1\"\n                      underline=\"none\"\n                      variant=\"subtitle2\"\n                    >\n                      #\n                      {invoice.id}\n                    </Link>\n                  </TableCell>\n                  <TableCell>\n                    {format(invoice.issueDate, 'dd MMM yyyy')}\n                  </TableCell>\n                  <TableCell>\n                    {format(invoice.dueDate, 'dd MMM yyyy')}\n                  </TableCell>\n                  <TableCell>\n                    {numeral(invoice.totalAmount).format(`${invoice.currencySymbol}0,0.00`)}\n                  </TableCell>\n                  <TableCell>\n                    {invoice.paymentMethod}\n                  </TableCell>\n                  <TableCell>\n                    <Status\n                      color={statusVariant.color}\n                      label={statusVariant.label}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <InvoiceMenu />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Scrollbar>\n      {displayLoading && (\n        <Box sx={{ p: 2 }}>\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n        </Box>\n      )}\n      {displayError && (\n        <ResourceError\n          error={error}\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      {displayUnavailable && (\n        <ResourceUnavailable\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      <Divider sx={{ mt: 'auto' }} />\n      <Pagination\n        disabled={isLoading}\n        onPageChange={onPageChange}\n        page={page}\n        rowsCount={invoicesCount}\n      />\n    </Box>\n  );\n};\n\nInvoicesTable.defaultProps = {\n  invoices: [],\n  invoicesCount: 0,\n  page: 1,\n  selectedInvoices: [],\n  sort: 'desc',\n  sortBy: 'issueDate'\n};\n\nInvoicesTable.propTypes = {\n  invoices: Proptypes.array,\n  invoicesCount: Proptypes.number,\n  error: Proptypes.string,\n  isLoading: Proptypes.bool,\n  onPageChange: Proptypes.func,\n  onSelect: Proptypes.func,\n  onSelectAll: Proptypes.func,\n  onSortChange: Proptypes.func,\n  page: Proptypes.number,\n  selectedInvoices: Proptypes.array,\n  sort: Proptypes.oneOf(['asc', 'desc']),\n  sortBy: Proptypes.string\n};\n"]},"metadata":{},"sourceType":"module"}