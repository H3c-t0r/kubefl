{"ast":null,"code":"var _jsxFileName = \"/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/customer/customers-table.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Proptypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { Avatar, Box, Checkbox, Divider, IconButton, Link, Skeleton, Table, TableBody, TableCell, TableHead, TableRow, TableSortLabel } from '@material-ui/core';\nimport { Star as StarIcon } from '../../icons/star';\nimport { Pagination } from '../pagination';\nimport { ResourceError } from '../resource-error';\nimport { ResourceUnavailable } from '../resource-unavailable';\nimport { Scrollbar } from '../scrollbar';\nimport { CustomerMenu } from './customer-menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  id: 'fullName',\n  disablePadding: true,\n  label: 'Name'\n}, {\n  id: 'phone',\n  label: 'Phone'\n}, {\n  id: 'email',\n  label: 'Email'\n}, {\n  id: 'createdAt',\n  label: 'Created'\n}];\nexport const CustomersTable = props => {\n  _s();\n\n  const {\n    customers: customersProp,\n    customersCount,\n    error,\n    isLoading,\n    onPageChange,\n    onSelect,\n    onSelectAll,\n    onSortChange,\n    page,\n    selectedCustomers,\n    sort,\n    sortBy\n  } = props;\n  const [customers, setCustomers] = useState(customersProp);\n  useEffect(() => {\n    setCustomers(customersProp);\n  }, [customersProp]);\n\n  const handleIsFavoriteChange = (customerId, value) => {\n    const temp = [...customers];\n    const customerIndex = temp.findIndex(customer => customer.id === customerId);\n    temp[customerIndex].isFavorite = value;\n    setCustomers(temp);\n  };\n\n  const displayLoading = isLoading;\n  const displayError = Boolean(!isLoading && error);\n  const displayUnavailable = Boolean(!isLoading && !error && !(customers === null || customers === void 0 ? void 0 : customers.length));\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flex: 1,\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Scrollbar, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"checkbox\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: (customers === null || customers === void 0 ? void 0 : customers.length) > 0 && selectedCustomers.length === (customers === null || customers === void 0 ? void 0 : customers.length),\n                disabled: isLoading,\n                indeterminate: selectedCustomers.length > 0 && selectedCustomers.length < (customers === null || customers === void 0 ? void 0 : customers.length),\n                onChange: onSelectAll\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n              padding: column.disablePadding ? 'none' : 'normal',\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortBy === column.id,\n                direction: sortBy === column.id ? sort : 'asc',\n                disabled: isLoading,\n                onClick: event => onSortChange(event, column.id),\n                children: column.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)\n            }, column.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: customers === null || customers === void 0 ? void 0 : customers.map(customer => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            selected: !!selectedCustomers.find(selectedCustomer => selectedCustomer === customer.id),\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"checkbox\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: !!selectedCustomers.find(selectedCustomer => selectedCustomer === customer.id),\n                onChange: event => onSelect(event, customer.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"none\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => handleIsFavoriteChange(customer.id, !customer.isFavorite),\n                  size: \"small\",\n                  children: /*#__PURE__*/_jsxDEV(StarIcon, {\n                    sx: {\n                      color: customer.isFavorite ? 'rgb(255, 180, 0)' : 'action.disabled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"none\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  src: customer.avatar,\n                  sx: {\n                    height: 36,\n                    mr: 1,\n                    width: 36\n                  },\n                  variant: \"rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  color: \"inherit\",\n                  component: RouterLink,\n                  to: \"/dashboard/customers/1\",\n                  underline: \"none\",\n                  variant: \"subtitle2\",\n                  children: customer.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: customer.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: customer.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: format(customer.createdAt, 'dd/MM/yyyy HH:mm')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(CustomerMenu, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, customer.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), displayLoading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        height: 42\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), displayError && /*#__PURE__*/_jsxDEV(ResourceError, {\n      error: error,\n      sx: {\n        flexGrow: 1,\n        m: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this), displayUnavailable && /*#__PURE__*/_jsxDEV(ResourceUnavailable, {\n      sx: {\n        flexGrow: 1,\n        m: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      sx: {\n        mt: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      disabled: isLoading,\n      onPageChange: onPageChange,\n      page: page,\n      rowsCount: customersCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CustomersTable, \"JemBx3MqsiR02Wd2E5SMZ/CLnAI=\");\n\n_c = CustomersTable;\nCustomersTable.defaultProps = {\n  customers: [],\n  customersCount: 0,\n  page: 1,\n  selectedCustomers: [],\n  sort: 'desc',\n  sortBy: 'createdAt'\n};\nCustomersTable.propTypes = {\n  customers: Proptypes.array,\n  customersCount: Proptypes.number,\n  error: Proptypes.string,\n  isLoading: Proptypes.bool,\n  onPageChange: Proptypes.func,\n  onSelect: Proptypes.func,\n  onSelectAll: Proptypes.func,\n  onSortChange: Proptypes.func,\n  page: Proptypes.number,\n  selectedCustomers: Proptypes.array,\n  sort: Proptypes.oneOf(['asc', 'desc']),\n  sortBy: Proptypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomersTable\");","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/customer/customers-table.js"],"names":["useEffect","useState","Proptypes","Link","RouterLink","format","Avatar","Box","Checkbox","Divider","IconButton","Skeleton","Table","TableBody","TableCell","TableHead","TableRow","TableSortLabel","Star","StarIcon","Pagination","ResourceError","ResourceUnavailable","Scrollbar","CustomerMenu","columns","id","disablePadding","label","CustomersTable","props","customers","customersProp","customersCount","error","isLoading","onPageChange","onSelect","onSelectAll","onSortChange","page","selectedCustomers","sort","sortBy","setCustomers","handleIsFavoriteChange","customerId","value","temp","customerIndex","findIndex","customer","isFavorite","displayLoading","displayError","Boolean","displayUnavailable","length","display","flex","flexDirection","minWidth","map","column","event","find","selectedCustomer","justifyContent","color","alignItems","avatar","height","mr","width","fullName","phone","email","createdAt","p","flexGrow","m","mt","defaultProps","propTypes","array","number","string","bool","func","oneOf"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport Proptypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport {\n  Avatar,\n  Box,\n  Checkbox,\n  Divider,\n  IconButton,\n  Link,\n  Skeleton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel\n} from '@material-ui/core';\nimport { Star as StarIcon } from '../../icons/star';\nimport { Pagination } from '../pagination';\nimport { ResourceError } from '../resource-error';\nimport { ResourceUnavailable } from '../resource-unavailable';\nimport { Scrollbar } from '../scrollbar';\nimport { CustomerMenu } from './customer-menu';\n\nconst columns = [\n  {\n    id: 'fullName',\n    disablePadding: true,\n    label: 'Name'\n  },\n  {\n    id: 'phone',\n    label: 'Phone'\n  },\n  {\n    id: 'email',\n    label: 'Email'\n  },\n  {\n    id: 'createdAt',\n    label: 'Created'\n  }\n];\n\nexport const CustomersTable = (props) => {\n  const {\n    customers: customersProp,\n    customersCount,\n    error,\n    isLoading,\n    onPageChange,\n    onSelect,\n    onSelectAll,\n    onSortChange,\n    page,\n    selectedCustomers,\n    sort,\n    sortBy\n  } = props;\n  const [customers, setCustomers] = useState(customersProp);\n\n  useEffect(() => {\n    setCustomers(customersProp);\n  }, [customersProp]);\n\n  const handleIsFavoriteChange = (customerId, value) => {\n    const temp = [...customers];\n    const customerIndex = temp.findIndex((customer) => customer.id === customerId);\n    temp[customerIndex].isFavorite = value;\n    setCustomers(temp);\n  };\n\n  const displayLoading = isLoading;\n  const displayError = Boolean(!isLoading && error);\n  const displayUnavailable = Boolean(!isLoading && !error && !customers?.length);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column'\n      }}\n    >\n      <Scrollbar>\n        <Table sx={{ minWidth: 1000 }}>\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\">\n                <Checkbox\n                  checked={customers?.length > 0\n                  && selectedCustomers.length === customers?.length}\n                  disabled={isLoading}\n                  indeterminate={selectedCustomers.length > 0\n                  && selectedCustomers.length < customers?.length}\n                  onChange={onSelectAll}\n                />\n              </TableCell>\n              <TableCell />\n              {columns.map((column) => (\n                <TableCell\n                  key={column.id}\n                  padding={column.disablePadding ? 'none' : 'normal'}\n                >\n                  <TableSortLabel\n                    active={sortBy === column.id}\n                    direction={sortBy === column.id ? sort : 'asc'}\n                    disabled={isLoading}\n                    onClick={(event) => onSortChange(event, column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </TableCell>\n              ))}\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {customers?.map((customer) => (\n              <TableRow\n                hover\n                key={customer.id}\n                selected={!!selectedCustomers.find((selectedCustomer) => selectedCustomer\n                  === customer.id)}\n              >\n                <TableCell padding=\"checkbox\">\n                  <Checkbox\n                    checked={!!selectedCustomers.find((selectedCustomer) => selectedCustomer\n                      === customer.id)}\n                    onChange={(event) => onSelect(event, customer.id)}\n                  />\n                </TableCell>\n                <TableCell padding=\"none\">\n                  <Box\n                    sx={{\n                      display: 'flex',\n                      justifyContent: 'center'\n                    }}\n                  >\n                    <IconButton\n                      onClick={() => handleIsFavoriteChange(customer.id,\n                        !customer.isFavorite)}\n                      size=\"small\"\n                    >\n                      <StarIcon\n                        sx={{\n                          color: customer.isFavorite\n                            ? 'rgb(255, 180, 0)'\n                            : 'action.disabled'\n                        }}\n                      />\n                    </IconButton>\n                  </Box>\n                </TableCell>\n                <TableCell padding=\"none\">\n                  <Box\n                    sx={{\n                      display: 'flex',\n                      alignItems: 'center'\n                    }}\n                  >\n                    <Avatar\n                      src={customer.avatar}\n                      sx={{\n                        height: 36,\n                        mr: 1,\n                        width: 36\n                      }}\n                      variant=\"rounded\"\n                    />\n                    <Link\n                      color=\"inherit\"\n                      component={RouterLink}\n                      to=\"/dashboard/customers/1\"\n                      underline=\"none\"\n                      variant=\"subtitle2\"\n                    >\n                      {customer.fullName}\n                    </Link>\n                  </Box>\n                </TableCell>\n                <TableCell>\n                  {customer.phone}\n                </TableCell>\n                <TableCell>\n                  {customer.email}\n                </TableCell>\n                <TableCell>\n                  {format(customer.createdAt, 'dd/MM/yyyy HH:mm')}\n                </TableCell>\n                <TableCell align=\"right\">\n                  <CustomerMenu />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </Scrollbar>\n      {displayLoading && (\n        <Box sx={{ p: 2 }}>\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n        </Box>\n      )}\n      {displayError && (\n        <ResourceError\n          error={error}\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      {displayUnavailable && (\n        <ResourceUnavailable\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      <Divider sx={{ mt: 'auto' }} />\n      <Pagination\n        disabled={isLoading}\n        onPageChange={onPageChange}\n        page={page}\n        rowsCount={customersCount}\n      />\n    </Box>\n  );\n};\n\nCustomersTable.defaultProps = {\n  customers: [],\n  customersCount: 0,\n  page: 1,\n  selectedCustomers: [],\n  sort: 'desc',\n  sortBy: 'createdAt'\n};\n\nCustomersTable.propTypes = {\n  customers: Proptypes.array,\n  customersCount: Proptypes.number,\n  error: Proptypes.string,\n  isLoading: Proptypes.bool,\n  onPageChange: Proptypes.func,\n  onSelect: Proptypes.func,\n  onSelectAll: Proptypes.func,\n  onSortChange: Proptypes.func,\n  page: Proptypes.number,\n  selectedCustomers: Proptypes.array,\n  sort: Proptypes.oneOf(['asc', 'desc']),\n  sortBy: Proptypes.string\n};\n"]},"metadata":{},"sourceType":"module"}