{"ast":null,"code":"var _jsxFileName = \"/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/auth/login-amplify.js\",\n    _s = $RefreshSig$();\n\nimport { Link as BrowserLink, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Alert, Box, Button, FormHelperText, Grid, Typography } from '@material-ui/core';\nimport { InputField } from '../input-field';\nimport { useAuth } from '../../hooks/use-auth';\nimport { useMounted } from '../../hooks/use-mounted';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginAmplify = () => {\n  _s();\n\n  const mounted = useMounted();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const formik = useFormik({\n    initialValues: {\n      email: 'demo@devias.io',\n      password: 'Password123!',\n      submit: null\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n      password: Yup.string().max(255).required('Password is required'),\n      policy: Yup.boolean()\n    }),\n    onSubmit: async (values, helpers) => {\n      try {\n        await login(values.email, values.password);\n\n        if (mounted.current) {\n          helpers.setStatus({\n            success: true\n          });\n          helpers.setSubmitting(false);\n        }\n      } catch (err) {\n        console.error(err);\n\n        if (err.code === 'UserNotConfirmedException') {\n          navigate('/verify-code', {\n            state: {\n              username: values.email\n            }\n          });\n          return;\n        }\n\n        if (mounted.current) {\n          helpers.setStatus({\n            success: false\n          });\n          helpers.setErrors({\n            submit: err.message\n          });\n          helpers.setSubmitting(false);\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        alignItems: 'center',\n        display: 'flex',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textPrimary\",\n        variant: \"h4\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        component: BrowserLink,\n        to: \"/register\",\n        variant: \"text\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          autoFocus: true,\n          error: Boolean(formik.touched.email && formik.errors.email),\n          fullWidth: true,\n          helperText: formik.touched.email && formik.errors.email,\n          label: \"Email address\",\n          name: \"email\",\n          onBlur: formik.handleBlur,\n          onChange: formik.handleChange,\n          type: \"email\",\n          value: formik.values.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          error: Boolean(formik.touched.password && formik.errors.password),\n          fullWidth: true,\n          helperText: formik.touched.password && formik.errors.password,\n          label: \"Password\",\n          name: \"password\",\n          onBlur: formik.handleBlur,\n          onChange: formik.handleChange,\n          type: \"password\",\n          value: formik.values.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), formik.errors.submit && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormHelperText, {\n          error: true,\n          children: formik.errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          disabled: formik.isSubmitting,\n          fullWidth: true,\n          size: \"large\",\n          type: \"submit\",\n          variant: \"contained\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          component: BrowserLink,\n          to: \"/password-recovery\",\n          variant: \"text\",\n          children: \"Forgot password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        mt: 3\n      },\n      children: [\"You can use \\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"demo@devias.io\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), \"\\xA0 and password \\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Password123!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginAmplify, \"qPLVZk2JcB7aSiAIi8w8wG3YkCw=\", false, function () {\n  return [useMounted, useNavigate, useAuth, useFormik];\n});\n\n_c = LoginAmplify;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginAmplify\");","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/components/auth/login-amplify.js"],"names":["Link","BrowserLink","useNavigate","useFormik","Yup","Alert","Box","Button","FormHelperText","Grid","Typography","InputField","useAuth","useMounted","LoginAmplify","mounted","navigate","login","formik","initialValues","email","password","submit","validationSchema","object","shape","string","max","required","policy","boolean","onSubmit","values","helpers","current","setStatus","success","setSubmitting","err","console","error","code","state","username","setErrors","message","handleSubmit","alignItems","display","mb","flexGrow","Boolean","touched","errors","handleBlur","handleChange","isSubmitting","mt"],"mappings":"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","sourcesContent":["import { Link as BrowserLink, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Alert, Box, Button, FormHelperText, Grid, Typography } from '@material-ui/core';\nimport { InputField } from '../input-field';\nimport { useAuth } from '../../hooks/use-auth';\nimport { useMounted } from '../../hooks/use-mounted';\n\nexport const LoginAmplify = () => {\n  const mounted = useMounted();\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const formik = useFormik({\n    initialValues: {\n      email: 'demo@devias.io',\n      password: 'Password123!',\n      submit: null\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n      password: Yup.string().max(255).required('Password is required'),\n      policy: Yup.boolean()\n    }),\n    onSubmit: async (values, helpers) => {\n      try {\n        await login(values.email, values.password);\n\n        if (mounted.current) {\n          helpers.setStatus({ success: true });\n          helpers.setSubmitting(false);\n        }\n      } catch (err) {\n        console.error(err);\n\n        if (err.code === 'UserNotConfirmedException') {\n          navigate('/verify-code', { state: { username: values.email } });\n          return;\n        }\n\n        if (mounted.current) {\n          helpers.setStatus({ success: false });\n          helpers.setErrors({ submit: err.message });\n          helpers.setSubmitting(false);\n        }\n      }\n    }\n  });\n\n  return (\n    <form onSubmit={formik.handleSubmit}>\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          mb: 3\n        }}\n      >\n        <Typography\n          color=\"textPrimary\"\n          variant=\"h4\"\n        >\n          Login\n        </Typography>\n        <Box sx={{ flexGrow: 1 }} />\n        <Button\n          color=\"primary\"\n          component={BrowserLink}\n          to=\"/register\"\n          variant=\"text\"\n        >\n          Sign Up\n        </Button>\n      </Box>\n      <Grid\n        container\n        spacing={2}\n      >\n        <Grid\n          item\n          xs={12}\n        >\n          <InputField\n            autoFocus\n            error={Boolean(formik.touched.email && formik.errors.email)}\n            fullWidth\n            helperText={formik.touched.email && formik.errors.email}\n            label=\"Email address\"\n            name=\"email\"\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            type=\"email\"\n            value={formik.values.email}\n          />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n        >\n          <InputField\n            error={Boolean(formik.touched.password && formik.errors.password)}\n            fullWidth\n            helperText={formik.touched.password && formik.errors.password}\n            label=\"Password\"\n            name=\"password\"\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            type=\"password\"\n            value={formik.values.password}\n          />\n        </Grid>\n        {formik.errors.submit && (\n          <Grid\n            item\n            xs={12}\n          >\n            <FormHelperText error>\n              {formik.errors.submit}\n            </FormHelperText>\n          </Grid>\n        )}\n        <Grid\n          item\n          xs={12}\n        >\n          <Button\n            color=\"primary\"\n            disabled={formik.isSubmitting}\n            fullWidth\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n          >\n            Log In\n          </Button>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n        >\n          <Button\n            color=\"primary\"\n            component={BrowserLink}\n            to=\"/password-recovery\"\n            variant=\"text\"\n          >\n            Forgot password\n          </Button>\n        </Grid>\n      </Grid>\n      <Alert\n        severity=\"info\"\n        sx={{ mt: 3 }}\n      >\n        You can use\n        &nbsp;\n        <strong>demo@devias.io</strong>\n        &nbsp;\n        and password\n        &nbsp;\n        <strong>Password123!</strong>\n      </Alert>\n    </form>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}