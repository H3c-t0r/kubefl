{"ast":null,"code":"var _jsxFileName = \"/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/containers/invoices.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { Box, Button, Card, Container, Divider, Typography } from '@material-ui/core';\nimport { invoiceApi } from '../api/invoice';\nimport { InvoicesFilter } from '../components/invoices/invoices-filter';\nimport { InvoicesStats } from '../components/invoices/invoices-stats';\nimport { InvoicesTable } from '../components/invoices/invoices-table';\nimport { useMounted } from '../hooks/use-mounted';\nimport { useSelection } from '../hooks/use-selection';\nimport { Plus as PlusIcon } from '../icons/plus';\nimport gtm from '../lib/gtm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Invoices = () => {\n  _s();\n\n  var _invoicesState$data, _invoicesState$data2, _invoicesState$data3;\n\n  const mounted = useMounted();\n  const [controller, setController] = useState({\n    filters: [],\n    page: 0,\n    query: '',\n    sort: 'desc',\n    sortBy: 'createdAt',\n    view: 'all'\n  });\n  const [invoicesState, setInvoicesState] = useState({\n    isLoading: true\n  });\n  const [selectedInvoices, handleSelect, handleSelectAll] = useSelection((_invoicesState$data = invoicesState.data) === null || _invoicesState$data === void 0 ? void 0 : _invoicesState$data.invoices);\n  const getCustomers = useCallback(async () => {\n    setInvoicesState(() => ({\n      isLoading: true\n    }));\n\n    try {\n      const result = await invoiceApi.getInvoices({\n        filters: controller.filters,\n        page: controller.page,\n        query: controller.query,\n        sort: controller.sort,\n        sortBy: controller.sortBy,\n        view: controller.view\n      });\n\n      if (mounted.current) {\n        setInvoicesState(() => ({\n          isLoading: false,\n          data: result\n        }));\n      }\n    } catch (err) {\n      console.error(err);\n\n      if (mounted.current) {\n        setInvoicesState(() => ({\n          isLoading: false,\n          error: err.message\n        }));\n      }\n    }\n  }, [controller]);\n  useEffect(() => {\n    getCustomers().catch(console.error);\n  }, [controller]);\n  useEffect(() => {\n    gtm.push({\n      event: 'page_view'\n    });\n  }, []);\n\n  const handleViewChange = newView => {\n    setController({ ...controller,\n      page: 0,\n      view: newView\n    });\n  };\n\n  const handleQueryChange = newQuery => {\n    setController({ ...controller,\n      page: 0,\n      query: newQuery\n    });\n  };\n\n  const handleFiltersApply = newFilters => {\n    const parsedFilters = newFilters.map(filter => ({\n      property: filter.property.name,\n      value: filter.value,\n      operator: filter.operator.value\n    }));\n    setController({ ...controller,\n      page: 0,\n      filters: parsedFilters\n    });\n  };\n\n  const handleFiltersClear = () => {\n    setController({ ...controller,\n      page: 0,\n      filters: []\n    });\n  };\n\n  const handlePageChange = newPage => {\n    setController({ ...controller,\n      page: newPage - 1\n    });\n  };\n\n  const handleSortChange = (event, property) => {\n    const isAsc = controller.sortBy === property && controller.sort === 'asc';\n    setController({ ...controller,\n      page: 0,\n      sort: isAsc ? 'desc' : 'asc',\n      sortBy: property\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Invoice: List | Carpatin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        backgroundColor: 'background.default',\n        flexGrow: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            py: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              alignItems: 'center',\n              display: 'flex'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textPrimary\",\n              variant: \"h4\",\n              children: \"Invoices\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                flexGrow: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              component: RouterLink,\n              size: \"large\",\n              startIcon: /*#__PURE__*/_jsxDEV(PlusIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 28\n              }, this),\n              to: \"/dashboard/invoices/create\",\n              variant: \"contained\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InvoicesStats, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            flexGrow: 1\n          },\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(InvoicesFilter, {\n            disabled: invoicesState.isLoading,\n            filters: controller.filters,\n            onFiltersApply: handleFiltersApply,\n            onFiltersClear: handleFiltersClear,\n            onQueryChange: handleQueryChange,\n            onViewChange: handleViewChange,\n            query: controller.query,\n            selectedInvoices: selectedInvoices,\n            view: controller.view\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InvoicesTable, {\n            error: invoicesState.error,\n            invoices: (_invoicesState$data2 = invoicesState.data) === null || _invoicesState$data2 === void 0 ? void 0 : _invoicesState$data2.invoices,\n            invoicesCount: (_invoicesState$data3 = invoicesState.data) === null || _invoicesState$data3 === void 0 ? void 0 : _invoicesState$data3.invoicesCount,\n            isLoading: invoicesState.isLoading,\n            onPageChange: handlePageChange,\n            onSelect: handleSelect,\n            onSelectAll: handleSelectAll,\n            onSortChange: handleSortChange,\n            page: controller.page + 1,\n            selectedInvoices: selectedInvoices,\n            sort: controller.sort,\n            sortBy: controller.sortBy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Invoices, \"07Z/xU1b+EZHpPZ6kKUtk7450CA=\", false, function () {\n  return [useMounted, useSelection];\n});\n\n_c = Invoices;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invoices\");","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/src/containers/invoices.js"],"names":["useCallback","useEffect","useState","Link","RouterLink","Helmet","Box","Button","Card","Container","Divider","Typography","invoiceApi","InvoicesFilter","InvoicesStats","InvoicesTable","useMounted","useSelection","Plus","PlusIcon","gtm","Invoices","mounted","controller","setController","filters","page","query","sort","sortBy","view","invoicesState","setInvoicesState","isLoading","selectedInvoices","handleSelect","handleSelectAll","data","invoices","getCustomers","result","getInvoices","current","err","console","error","message","catch","push","event","handleViewChange","newView","handleQueryChange","newQuery","handleFiltersApply","newFilters","parsedFilters","map","filter","property","name","value","operator","handleFiltersClear","handlePageChange","newPage","handleSortChange","isAsc","backgroundColor","flexGrow","display","flexDirection","height","py","alignItems","invoicesCount"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,IAAI,IAAIC,UAAjB,QAAmC,kBAAnC;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,EAA4BC,SAA5B,EAAuCC,OAAvC,EAAgDC,UAAhD,QAAkE,mBAAlE;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,cAAT,QAA+B,wCAA/B;AACA,SAASC,aAAT,QAA8B,uCAA9B;AACA,SAASC,aAAT,QAA8B,uCAA9B;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,IAAI,IAAIC,QAAjB,QAAiC,eAAjC;AACA,OAAOC,GAAP,MAAgB,YAAhB;;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAAA;;AAC5B,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BtB,QAAQ,CAAC;AAC3CuB,IAAAA,OAAO,EAAE,EADkC;AAE3CC,IAAAA,IAAI,EAAE,CAFqC;AAG3CC,IAAAA,KAAK,EAAE,EAHoC;AAI3CC,IAAAA,IAAI,EAAE,MAJqC;AAK3CC,IAAAA,MAAM,EAAE,WALmC;AAM3CC,IAAAA,IAAI,EAAE;AANqC,GAAD,CAA5C;AAQA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoC9B,QAAQ,CAAC;AAAE+B,IAAAA,SAAS,EAAE;AAAb,GAAD,CAAlD;AACA,QAAM,CACJC,gBADI,EAEJC,YAFI,EAGJC,eAHI,IAIFnB,YAAY,wBAACc,aAAa,CAACM,IAAf,wDAAC,oBAAoBC,QAArB,CAJhB;AAMA,QAAMC,YAAY,GAAGvC,WAAW,CAAC,YAAY;AAC3CgC,IAAAA,gBAAgB,CAAC,OAAO;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAP,CAAD,CAAhB;;AAEA,QAAI;AACF,YAAMO,MAAM,GAAG,MAAM5B,UAAU,CAAC6B,WAAX,CAAuB;AAC1ChB,QAAAA,OAAO,EAAEF,UAAU,CAACE,OADsB;AAE1CC,QAAAA,IAAI,EAAEH,UAAU,CAACG,IAFyB;AAG1CC,QAAAA,KAAK,EAAEJ,UAAU,CAACI,KAHwB;AAI1CC,QAAAA,IAAI,EAAEL,UAAU,CAACK,IAJyB;AAK1CC,QAAAA,MAAM,EAAEN,UAAU,CAACM,MALuB;AAM1CC,QAAAA,IAAI,EAAEP,UAAU,CAACO;AANyB,OAAvB,CAArB;;AASA,UAAIR,OAAO,CAACoB,OAAZ,EAAqB;AACnBV,QAAAA,gBAAgB,CAAC,OAAO;AACtBC,UAAAA,SAAS,EAAE,KADW;AAEtBI,UAAAA,IAAI,EAAEG;AAFgB,SAAP,CAAD,CAAhB;AAID;AACF,KAhBD,CAgBE,OAAOG,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;;AAEA,UAAIrB,OAAO,CAACoB,OAAZ,EAAqB;AACnBV,QAAAA,gBAAgB,CAAC,OAAO;AACtBC,UAAAA,SAAS,EAAE,KADW;AAEtBY,UAAAA,KAAK,EAAEF,GAAG,CAACG;AAFW,SAAP,CAAD,CAAhB;AAID;AACF;AACF,GA7B+B,EA6B7B,CAACvB,UAAD,CA7B6B,CAAhC;AA+BAtB,EAAAA,SAAS,CAAC,MAAM;AACdsC,IAAAA,YAAY,GAAGQ,KAAf,CAAqBH,OAAO,CAACC,KAA7B;AACD,GAFQ,EAEN,CAACtB,UAAD,CAFM,CAAT;AAIAtB,EAAAA,SAAS,CAAC,MAAM;AACdmB,IAAAA,GAAG,CAAC4B,IAAJ,CAAS;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAT;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,gBAAgB,GAAIC,OAAD,IAAa;AACpC3B,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAE,CAFM;AAGZI,MAAAA,IAAI,EAAEqB;AAHM,KAAD,CAAb;AAKD,GAND;;AAQA,QAAMC,iBAAiB,GAAIC,QAAD,IAAc;AACtC7B,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAE,CAFM;AAGZC,MAAAA,KAAK,EAAE0B;AAHK,KAAD,CAAb;AAKD,GAND;;AAQA,QAAMC,kBAAkB,GAAIC,UAAD,IAAgB;AACzC,UAAMC,aAAa,GAAGD,UAAU,CAACE,GAAX,CAAgBC,MAAD,KAAa;AAChDC,MAAAA,QAAQ,EAAED,MAAM,CAACC,QAAP,CAAgBC,IADsB;AAEhDC,MAAAA,KAAK,EAAEH,MAAM,CAACG,KAFkC;AAGhDC,MAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAAP,CAAgBD;AAHsB,KAAb,CAAf,CAAtB;AAMArC,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAE,CAFM;AAGZD,MAAAA,OAAO,EAAE+B;AAHG,KAAD,CAAb;AAKD,GAZD;;AAcA,QAAMO,kBAAkB,GAAG,MAAM;AAC/BvC,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAE,CAFM;AAGZD,MAAAA,OAAO,EAAE;AAHG,KAAD,CAAb;AAKD,GAND;;AAQA,QAAMuC,gBAAgB,GAAIC,OAAD,IAAa;AACpCzC,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAEuC,OAAO,GAAG;AAFJ,KAAD,CAAb;AAID,GALD;;AAOA,QAAMC,gBAAgB,GAAG,CAACjB,KAAD,EAAQU,QAAR,KAAqB;AAC5C,UAAMQ,KAAK,GAAG5C,UAAU,CAACM,MAAX,KAAsB8B,QAAtB,IAAkCpC,UAAU,CAACK,IAAX,KAAoB,KAApE;AAEAJ,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZG,MAAAA,IAAI,EAAE,CAFM;AAGZE,MAAAA,IAAI,EAAEuC,KAAK,GAAG,MAAH,GAAY,KAHX;AAIZtC,MAAAA,MAAM,EAAE8B;AAJI,KAAD,CAAb;AAMD,GATD;;AAWA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,GAAD;AACE,MAAA,EAAE,EAAE;AACFS,QAAAA,eAAe,EAAE,oBADf;AAEFC,QAAAA,QAAQ,EAAE;AAFR,OADN;AAAA,6BAME,QAAC,SAAD;AACE,QAAA,QAAQ,EAAC,IADX;AAEE,QAAA,EAAE,EAAE;AACFC,UAAAA,OAAO,EAAE,MADP;AAEFC,UAAAA,aAAa,EAAE,QAFb;AAGFC,UAAAA,MAAM,EAAE;AAHN,SAFN;AAAA,gCAQE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE;AAAEC,YAAAA,EAAE,EAAE;AAAN,WAAT;AAAA,iCACE,QAAC,GAAD;AACE,YAAA,EAAE,EAAE;AACFC,cAAAA,UAAU,EAAE,QADV;AAEFJ,cAAAA,OAAO,EAAE;AAFP,aADN;AAAA,oCAME,QAAC,UAAD;AACE,cAAA,KAAK,EAAC,aADR;AAEE,cAAA,OAAO,EAAC,IAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,eAYE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE;AAAED,gBAAAA,QAAQ,EAAE;AAAZ;AAAT;AAAA;AAAA;AAAA;AAAA,oBAZF,eAaE,QAAC,MAAD;AACE,cAAA,KAAK,EAAC,SADR;AAEE,cAAA,SAAS,EAAEjE,UAFb;AAGE,cAAA,IAAI,EAAC,OAHP;AAIE,cAAA,SAAS,eAAE,QAAC,QAAD;AAAU,gBAAA,QAAQ,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,sBAJb;AAKE,cAAA,EAAE,EAAC,4BALL;AAME,cAAA,OAAO,EAAC,WANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF,eAkCE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,gBAlCF,eAmCE,QAAC,IAAD;AACE,UAAA,EAAE,EAAE;AACFkE,YAAAA,OAAO,EAAE,MADP;AAEFC,YAAAA,aAAa,EAAE,QAFb;AAGFF,YAAAA,QAAQ,EAAE;AAHR,WADN;AAME,UAAA,OAAO,EAAC,UANV;AAAA,kCAQE,QAAC,cAAD;AACE,YAAA,QAAQ,EAAEtC,aAAa,CAACE,SAD1B;AAEE,YAAA,OAAO,EAAEV,UAAU,CAACE,OAFtB;AAGE,YAAA,cAAc,EAAE6B,kBAHlB;AAIE,YAAA,cAAc,EAAES,kBAJlB;AAKE,YAAA,aAAa,EAAEX,iBALjB;AAME,YAAA,YAAY,EAAEF,gBANhB;AAOE,YAAA,KAAK,EAAE3B,UAAU,CAACI,KAPpB;AAQE,YAAA,gBAAgB,EAAEO,gBARpB;AASE,YAAA,IAAI,EAAEX,UAAU,CAACO;AATnB;AAAA;AAAA;AAAA;AAAA,kBARF,eAmBE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,kBAnBF,eAoBE,QAAC,aAAD;AACE,YAAA,KAAK,EAAEC,aAAa,CAACc,KADvB;AAEE,YAAA,QAAQ,0BAAEd,aAAa,CAACM,IAAhB,yDAAE,qBAAoBC,QAFhC;AAGE,YAAA,aAAa,0BAAEP,aAAa,CAACM,IAAhB,yDAAE,qBAAoBsC,aAHrC;AAIE,YAAA,SAAS,EAAE5C,aAAa,CAACE,SAJ3B;AAKE,YAAA,YAAY,EAAE+B,gBALhB;AAME,YAAA,QAAQ,EAAE7B,YANZ;AAOE,YAAA,WAAW,EAAEC,eAPf;AAQE,YAAA,YAAY,EAAE8B,gBARhB;AASE,YAAA,IAAI,EAAE3C,UAAU,CAACG,IAAX,GAAkB,CAT1B;AAUE,YAAA,gBAAgB,EAAEQ,gBAVpB;AAWE,YAAA,IAAI,EAAEX,UAAU,CAACK,IAXnB;AAYE,YAAA,MAAM,EAAEL,UAAU,CAACM;AAZrB;AAAA;AAAA;AAAA;AAAA,kBApBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCF;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA,kBADF;AAqFD,CArMM;;GAAMR,Q;UACKL,U,EAcZC,Y;;;KAfOI,Q","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { Box, Button, Card, Container, Divider, Typography } from '@material-ui/core';\nimport { invoiceApi } from '../api/invoice';\nimport { InvoicesFilter } from '../components/invoices/invoices-filter';\nimport { InvoicesStats } from '../components/invoices/invoices-stats';\nimport { InvoicesTable } from '../components/invoices/invoices-table';\nimport { useMounted } from '../hooks/use-mounted';\nimport { useSelection } from '../hooks/use-selection';\nimport { Plus as PlusIcon } from '../icons/plus';\nimport gtm from '../lib/gtm';\n\nexport const Invoices = () => {\n  const mounted = useMounted();\n  const [controller, setController] = useState({\n    filters: [],\n    page: 0,\n    query: '',\n    sort: 'desc',\n    sortBy: 'createdAt',\n    view: 'all'\n  });\n  const [invoicesState, setInvoicesState] = useState({ isLoading: true });\n  const [\n    selectedInvoices,\n    handleSelect,\n    handleSelectAll\n  ] = useSelection(invoicesState.data?.invoices);\n\n  const getCustomers = useCallback(async () => {\n    setInvoicesState(() => ({ isLoading: true }));\n\n    try {\n      const result = await invoiceApi.getInvoices({\n        filters: controller.filters,\n        page: controller.page,\n        query: controller.query,\n        sort: controller.sort,\n        sortBy: controller.sortBy,\n        view: controller.view\n      });\n\n      if (mounted.current) {\n        setInvoicesState(() => ({\n          isLoading: false,\n          data: result\n        }));\n      }\n    } catch (err) {\n      console.error(err);\n\n      if (mounted.current) {\n        setInvoicesState(() => ({\n          isLoading: false,\n          error: err.message\n        }));\n      }\n    }\n  }, [controller]);\n\n  useEffect(() => {\n    getCustomers().catch(console.error);\n  }, [controller]);\n\n  useEffect(() => {\n    gtm.push({ event: 'page_view' });\n  }, []);\n\n  const handleViewChange = (newView) => {\n    setController({\n      ...controller,\n      page: 0,\n      view: newView\n    });\n  };\n\n  const handleQueryChange = (newQuery) => {\n    setController({\n      ...controller,\n      page: 0,\n      query: newQuery\n    });\n  };\n\n  const handleFiltersApply = (newFilters) => {\n    const parsedFilters = newFilters.map((filter) => ({\n      property: filter.property.name,\n      value: filter.value,\n      operator: filter.operator.value\n    }));\n\n    setController({\n      ...controller,\n      page: 0,\n      filters: parsedFilters\n    });\n  };\n\n  const handleFiltersClear = () => {\n    setController({\n      ...controller,\n      page: 0,\n      filters: []\n    });\n  };\n\n  const handlePageChange = (newPage) => {\n    setController({\n      ...controller,\n      page: newPage - 1\n    });\n  };\n\n  const handleSortChange = (event, property) => {\n    const isAsc = controller.sortBy === property && controller.sort === 'asc';\n\n    setController({\n      ...controller,\n      page: 0,\n      sort: isAsc ? 'desc' : 'asc',\n      sortBy: property\n    });\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Invoice: List | Carpatin Dashboard</title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.default',\n          flexGrow: 1\n        }}\n      >\n        <Container\n          maxWidth=\"lg\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            height: '100%'\n          }}\n        >\n          <Box sx={{ py: 4 }}>\n            <Box\n              sx={{\n                alignItems: 'center',\n                display: 'flex'\n              }}\n            >\n              <Typography\n                color=\"textPrimary\"\n                variant=\"h4\"\n              >\n                Invoices\n              </Typography>\n              <Box sx={{ flexGrow: 1 }} />\n              <Button\n                color=\"primary\"\n                component={RouterLink}\n                size=\"large\"\n                startIcon={<PlusIcon fontSize=\"small\" />}\n                to=\"/dashboard/invoices/create\"\n                variant=\"contained\"\n              >\n                Add\n              </Button>\n            </Box>\n          </Box>\n          <InvoicesStats />\n          <Card\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              flexGrow: 1\n            }}\n            variant=\"outlined\"\n          >\n            <InvoicesFilter\n              disabled={invoicesState.isLoading}\n              filters={controller.filters}\n              onFiltersApply={handleFiltersApply}\n              onFiltersClear={handleFiltersClear}\n              onQueryChange={handleQueryChange}\n              onViewChange={handleViewChange}\n              query={controller.query}\n              selectedInvoices={selectedInvoices}\n              view={controller.view}\n            />\n            <Divider />\n            <InvoicesTable\n              error={invoicesState.error}\n              invoices={invoicesState.data?.invoices}\n              invoicesCount={invoicesState.data?.invoicesCount}\n              isLoading={invoicesState.isLoading}\n              onPageChange={handlePageChange}\n              onSelect={handleSelect}\n              onSelectAll={handleSelectAll}\n              onSortChange={handleSortChange}\n              page={controller.page + 1}\n              selectedInvoices={selectedInvoices}\n              sort={controller.sort}\n              sortBy={controller.sortBy}\n            />\n          </Card>\n        </Container>\n      </Box>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}